# Vercel å‰ç«¯éƒ¨ç½²å®Œæ•´æŒ‡å—

> å°† Next.js å‰ç«¯éƒ¨ç½²åˆ° Vercel å¹³å°ï¼Œé…åˆè…¾è®¯äº‘åç«¯ä½¿ç”¨

## ğŸ“‹ ç›®å½•

- [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
- [ä¸ºä»€ä¹ˆé€‰æ‹© Vercel](#ä¸ºä»€ä¹ˆé€‰æ‹©-vercel)
- [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
- [éƒ¨ç½²æ­¥éª¤](#éƒ¨ç½²æ­¥éª¤)
- [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
- [éªŒè¯éƒ¨ç½²](#éªŒè¯éƒ¨ç½²)
- [æ›´æ–°éƒ¨ç½²](#æ›´æ–°éƒ¨ç½²)
- [è‡ªå®šä¹‰åŸŸå](#è‡ªå®šä¹‰åŸŸå)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

---

## ğŸ—ï¸ éƒ¨ç½²æ¶æ„

### å®Œæ•´æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç”¨æˆ·æµè§ˆå™¨                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel Edge Network (å…¨çƒ CDN)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Next.js å‰ç«¯                                         â”‚  â”‚
â”‚  â”‚  URL: https://your-app.vercel.app                    â”‚  â”‚
â”‚  â”‚  - è‡ªåŠ¨ HTTPS                                         â”‚  â”‚
â”‚  â”‚  - å…¨çƒ CDN åŠ é€Ÿ                                      â”‚  â”‚
â”‚  â”‚  - Git push è‡ªåŠ¨éƒ¨ç½²                                  â”‚  â”‚
â”‚  â”‚  - é¢„è§ˆéƒ¨ç½²ï¼ˆæ¯ä¸ª PRï¼‰                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS API è°ƒç”¨
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Cloudflare Tunnel (å…¨çƒ CDN)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  FastAPI åç«¯                                         â”‚  â”‚
â”‚  â”‚  URL: https://api.ameureka.com                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Neon PostgreSQL      â”‚
              â”‚   (äº‘ç«¯æ‰˜ç®¡æ•°æ®åº“)      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶æ„ç‰¹ç‚¹

âœ… **å‰ç«¯ï¼ˆVercelï¼‰**
- å…¨çƒ CDN åˆ†å‘
- è‡ªåŠ¨ HTTPS
- Git é›†æˆè‡ªåŠ¨éƒ¨ç½²
- é¢„è§ˆéƒ¨ç½²ï¼ˆæ¯ä¸ª PRï¼‰

âœ… **åç«¯ï¼ˆè…¾è®¯äº‘ + Cloudflare Tunnelï¼‰**
- ç‹¬ç«‹éƒ¨ç½²
- å®Œå…¨æ§åˆ¶
- æ— è¶…æ—¶é™åˆ¶

âœ… **æ•°æ®åº“ï¼ˆNeonï¼‰**
- æ‰˜ç®¡æœåŠ¡
- è‡ªåŠ¨å¤‡ä»½
- å…¨çƒä½å»¶è¿Ÿ

---

## ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹© Vercel

### ä¼˜åŠ¿å¯¹æ¯”

| ç‰¹æ€§ | Vercel | è…¾è®¯äº‘ | å…¶ä»–å¹³å° |
|------|--------|--------|---------|
| **é…ç½®éš¾åº¦** | â­ æœ€ç®€å• | â­â­â­ å¤æ‚ | â­â­ ä¸­ç­‰ |
| **éƒ¨ç½²é€Ÿåº¦** | 2-3 åˆ†é’Ÿ | 10-30 åˆ†é’Ÿ | 5-15 åˆ†é’Ÿ |
| **HTTPS** | âœ… è‡ªåŠ¨ | âš ï¸ éœ€é…ç½® | âš ï¸ éœ€é…ç½® |
| **CDN** | âœ… å…¨çƒ | âš ï¸ éœ€é…ç½® | âš ï¸ éƒ¨åˆ†æ”¯æŒ |
| **è‡ªåŠ¨éƒ¨ç½²** | âœ… Git é›†æˆ | âŒ éœ€æ‰‹åŠ¨ | âš ï¸ éœ€é…ç½® |
| **é¢„è§ˆéƒ¨ç½²** | âœ… æ¯ä¸ª PR | âŒ æ—  | âš ï¸ éƒ¨åˆ†æ”¯æŒ |
| **æˆæœ¬** | å…è´¹ | æŒ‰éœ€ä»˜è´¹ | å…è´¹/ä»˜è´¹ |

### é€‚ç”¨åœºæ™¯

âœ… **æ¨èä½¿ç”¨ Vercel**ï¼š
- Next.js åº”ç”¨ï¼ˆå®˜æ–¹å¹³å°ï¼‰
- éœ€è¦å¿«é€Ÿä¸Šçº¿
- éœ€è¦å…¨çƒ CDN
- éœ€è¦é¢„è§ˆéƒ¨ç½²
- å›¢é˜Ÿåä½œå¼€å‘

âŒ **ä¸æ¨èä½¿ç”¨ Vercel**ï¼š
- åç«¯ APIï¼ˆæœ‰è¶…æ—¶é™åˆ¶ï¼‰
- é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡
- éœ€è¦å®Œå…¨è‡ªä¸»æ§åˆ¶

---

## ğŸ“ å‰ç½®è¦æ±‚

### å¿…é¡»å…·å¤‡

- [x] **GitHub è´¦å·**
  - ä»£ç å·²æ¨é€åˆ° GitHub
  - ä»“åº“ï¼šhttps://github.com/ameureka/ai-deepresearch-agent
  
- [x] **Vercel è´¦å·**
  - å…è´¹æ³¨å†Œï¼šhttps://vercel.com/signup
  - ä½¿ç”¨ GitHub è´¦å·ç™»å½•
  
- [x] **åç«¯å·²éƒ¨ç½²**
  - åç«¯ API åœ°å€ï¼šhttps://api.ameureka.com
  - åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
  
- [x] **æ•°æ®åº“å·²é…ç½®**
  - Neon PostgreSQL è¿æ¥å­—ç¬¦ä¸²
  - æ•°æ®åº“å¯æ­£å¸¸è®¿é—®

### éœ€è¦å‡†å¤‡çš„ä¿¡æ¯

```bash
# åç«¯ API åœ°å€
BACKEND_API_URL=https://api.ameureka.com

# æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
DATABASE_URL=postgresql://user:password@ep-xxx.neon.tech/dbname?sslmode=require

# è®¤è¯å¯†é’¥ï¼ˆéœ€è¦ç”Ÿæˆï¼‰
AUTH_SECRET=ï¼ˆç¨åç”Ÿæˆï¼‰
```

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: ç™»å½• Vercel

#### 1.1 è®¿é—® Vercel

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://vercel.com/signup

#### 1.2 ä½¿ç”¨ GitHub ç™»å½•

1. ç‚¹å‡» "Continue with GitHub"
2. æˆæƒ Vercel è®¿é—®ä½ çš„ GitHub è´¦å·
3. é€‰æ‹©æˆæƒèŒƒå›´ï¼ˆæ¨èï¼šAll repositoriesï¼‰

#### 1.3 å®Œæˆæ³¨å†Œ

- å¡«å†™å›¢é˜Ÿåç§°ï¼ˆå¯é€‰ï¼‰
- é€‰æ‹©ä½¿ç”¨åœºæ™¯ï¼ˆPersonal / Teamï¼‰
- å®Œæˆæ³¨å†Œ

---

### æ­¥éª¤ 2: å¯¼å…¥é¡¹ç›®

#### 2.1 åˆ›å»ºæ–°é¡¹ç›®

1. ç™»å½• Vercel æ§åˆ¶å°
2. ç‚¹å‡» "Add New..." â†’ "Project"
3. æˆ–ç›´æ¥è®¿é—®ï¼šhttps://vercel.com/new

#### 2.2 é€‰æ‹© GitHub ä»“åº“

1. åœ¨ "Import Git Repository" é¡µé¢
2. æ‰¾åˆ° `ameureka/ai-deepresearch-agent` ä»“åº“
3. ç‚¹å‡» "Import"

**å¦‚æœçœ‹ä¸åˆ°ä»“åº“**ï¼š
- ç‚¹å‡» "Adjust GitHub App Permissions"
- æˆæƒ Vercel è®¿é—®è¯¥ä»“åº“
- è¿”å›å¹¶åˆ·æ–°é¡µé¢

---

### æ­¥éª¤ 3: é…ç½®é¡¹ç›®

#### 3.1 é¡¹ç›®è®¾ç½®

**Project Name**ï¼ˆé¡¹ç›®åç§°ï¼‰ï¼š
```
ai-deepresearch-agent
```
æˆ–è€…è‡ªå®šä¹‰åç§°ï¼Œä¾‹å¦‚ï¼š
```
my-research-app
```

**Framework Preset**ï¼ˆæ¡†æ¶é¢„è®¾ï¼‰ï¼š
```
Next.js
```
âœ… Vercel ä¼šè‡ªåŠ¨æ£€æµ‹

**Root Directory**ï¼ˆæ ¹ç›®å½•ï¼‰ï¼š
```
ai-chatbot-main
```
âš ï¸ **é‡è¦**ï¼šå¿…é¡»è®¾ç½®ä¸º `ai-chatbot-main`ï¼Œå› ä¸ºå‰ç«¯ä»£ç åœ¨å­ç›®å½•ä¸­

**Build and Output Settings**ï¼ˆæ„å»ºè®¾ç½®ï¼‰ï¼š
- Build Command: `pnpm build` æˆ– `npm run build`
- Output Directory: `.next`
- Install Command: `pnpm install` æˆ– `npm install`

âœ… ä¿æŒé»˜è®¤å³å¯ï¼ŒVercel ä¼šè‡ªåŠ¨æ£€æµ‹

---

### æ­¥éª¤ 4: é…ç½®ç¯å¢ƒå˜é‡

åœ¨ "Environment Variables" éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

#### 4.1 æ•°æ®åº“é…ç½®

**å˜é‡å**ï¼š`POSTGRES_URL`  
**å€¼**ï¼š
```
postgresql://user:password@ep-xxx.neon.tech/dbname?sslmode=require
```
**ç¯å¢ƒ**ï¼šProduction, Preview, Developmentï¼ˆå…¨é€‰ï¼‰

#### 4.2 åç«¯ API é…ç½®

**å˜é‡å**ï¼š`RESEARCH_API_URL`  
**å€¼**ï¼š
```
https://api.ameureka.com
```
**ç¯å¢ƒ**ï¼šProduction, Preview, Developmentï¼ˆå…¨é€‰ï¼‰

**å˜é‡å**ï¼š`NEXT_PUBLIC_API_URL`  
**å€¼**ï¼š
```
https://api.ameureka.com
```
**ç¯å¢ƒ**ï¼šProduction, Preview, Developmentï¼ˆå…¨é€‰ï¼‰

> ğŸ’¡ **è¯´æ˜**ï¼š
> - `RESEARCH_API_URL`ï¼šæœåŠ¡å™¨ç«¯è°ƒç”¨ï¼ˆNext.js æœåŠ¡å™¨ç»„ä»¶ï¼‰
> - `NEXT_PUBLIC_API_URL`ï¼šå®¢æˆ·ç«¯è°ƒç”¨ï¼ˆæµè§ˆå™¨ï¼‰

#### 4.3 è®¤è¯é…ç½®

**å˜é‡å**ï¼š`AUTH_SECRET`  
**å€¼**ï¼šéœ€è¦ç”Ÿæˆä¸€ä¸ªéšæœºå¯†é’¥

**ç”Ÿæˆæ–¹æ³•**ï¼š

**æ–¹æ³• 1ï¼šåœ¨çº¿ç”Ÿæˆ**
```bash
# åœ¨æœ¬åœ°ç”µè„‘è¿è¡Œ
openssl rand -base64 32
```

**æ–¹æ³• 2ï¼šä½¿ç”¨ Node.js**
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
```

**æ–¹æ³• 3ï¼šä½¿ç”¨ Python**
```bash
python3 -c "import secrets; print(secrets.token_urlsafe(32))"
```

å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼Œç²˜è´´åˆ° Vercelã€‚

**ç¯å¢ƒ**ï¼šProduction, Preview, Developmentï¼ˆå…¨é€‰ï¼‰

#### 4.4 Node ç¯å¢ƒ

**å˜é‡å**ï¼š`NODE_ENV`  
**å€¼**ï¼š
```
production
```
**ç¯å¢ƒ**ï¼šä»… Production

#### 4.5 å¯é€‰é…ç½®ï¼ˆå¦‚æœä½¿ç”¨ Vercel æœåŠ¡ï¼‰

**Vercel Blob Storage**ï¼ˆå¯é€‰ï¼‰ï¼š
```
BLOB_READ_WRITE_TOKEN=vercel_blob_xxx
```

**Vercel AI Gateway**ï¼ˆå¯é€‰ï¼‰ï¼š
```
AI_GATEWAY_API_KEY=vercel_ag_xxx
```

---

### æ­¥éª¤ 5: éƒ¨ç½²

#### 5.1 å¼€å§‹éƒ¨ç½²

1. ç¡®è®¤æ‰€æœ‰é…ç½®æ­£ç¡®
2. ç‚¹å‡» "Deploy" æŒ‰é’®
3. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰

#### 5.2 éƒ¨ç½²è¿‡ç¨‹

Vercel ä¼šè‡ªåŠ¨ï¼š
1. âœ… å…‹éš†ä»£ç 
2. âœ… å®‰è£…ä¾èµ–
3. âœ… è¿è¡Œæ•°æ®åº“è¿ç§»
4. âœ… æ„å»º Next.js åº”ç”¨
5. âœ… éƒ¨ç½²åˆ°å…¨çƒ CDN
6. âœ… é…ç½® HTTPS

#### 5.3 æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š
- ç‚¹å‡» "Building" æŸ¥çœ‹æ„å»ºæ—¥å¿—
- æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯æˆ–è­¦å‘Š

---

### æ­¥éª¤ 6: è·å–éƒ¨ç½²åœ°å€

#### 6.1 éƒ¨ç½²æˆåŠŸ

éƒ¨ç½²æˆåŠŸåï¼ŒVercel ä¼šæ˜¾ç¤ºï¼š
```
ğŸ‰ Congratulations! Your project has been deployed.
```

#### 6.2 è·å–åŸŸå

Vercel ä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚ï¼š
```
https://ai-deepresearch-agent-xxx.vercel.app
```

æˆ–è€…ï¼š
```
https://my-research-app.vercel.app
```

#### 6.3 è®¿é—®åº”ç”¨

ç‚¹å‡»åŸŸåæˆ– "Visit" æŒ‰é’®ï¼Œæ‰“å¼€ä½ çš„åº”ç”¨ã€‚

---

### æ­¥éª¤ 7: æ›´æ–°åç«¯ CORS é…ç½®

éƒ¨ç½²æˆåŠŸåï¼Œéœ€è¦æ›´æ–°åç«¯çš„ CORS é…ç½®ï¼Œå…è®¸ Vercel åŸŸåè®¿é—®ã€‚

#### 7.1 SSH ç™»å½•æœåŠ¡å™¨

```bash
ssh root@43.163.110.53
```

#### 7.2 ç¼–è¾‘ç¯å¢ƒå˜é‡

```bash
nano /opt/agentic-ai/.env
```

#### 7.3 æ›´æ–° ALLOWED_ORIGINS

æ‰¾åˆ° `ALLOWED_ORIGINS` è¡Œï¼Œæ·»åŠ ä½ çš„ Vercel åŸŸåï¼š

```bash
ALLOWED_ORIGINS=https://ai-deepresearch-agent-xxx.vercel.app,https://*.vercel.app,http://localhost:3000
```

**è¯´æ˜**ï¼š
- `https://ai-deepresearch-agent-xxx.vercel.app`ï¼šä½ çš„ç”Ÿäº§åŸŸå
- `https://*.vercel.app`ï¼šå…è®¸æ‰€æœ‰ Vercel é¢„è§ˆéƒ¨ç½²
- `http://localhost:3000`ï¼šæœ¬åœ°å¼€å‘

#### 7.4 é‡å¯åç«¯æœåŠ¡

```bash
sudo systemctl restart agentic-backend
```

#### 7.5 éªŒè¯ CORS

```bash
# æŸ¥çœ‹æ—¥å¿—
sudo journalctl -u agentic-backend -n 20 | grep CORS
```

åº”è¯¥çœ‹åˆ°ï¼š
```
âœ… CORS é…ç½®å®Œæˆï¼Œå…è®¸çš„æ¥æº: https://ai-deepresearch-agent-xxx.vercel.app,...
```

---

## âœ… éªŒè¯éƒ¨ç½²

### 1. è®¿é—®å‰ç«¯

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä½ çš„ Vercel åŸŸåï¼š
```
https://ai-deepresearch-agent-xxx.vercel.app
```

åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… ç™»å½•/æ³¨å†Œé¡µé¢
- âœ… é¡µé¢åŠ è½½æ­£å¸¸
- âœ… æ—  HTTPS é”™è¯¯

### 2. æµ‹è¯•æ³¨å†Œ/ç™»å½•

1. ç‚¹å‡» "Sign Up" æ³¨å†Œè´¦å·
2. å¡«å†™é‚®ç®±å’Œå¯†ç 
3. æäº¤æ³¨å†Œ

å¦‚æœæˆåŠŸï¼Œè¯´æ˜ï¼š
- âœ… å‰ç«¯æ­£å¸¸å·¥ä½œ
- âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸

### 3. æµ‹è¯•ç ”ç©¶åŠŸèƒ½

1. ç™»å½•åï¼Œå‘é€æ¶ˆæ¯ï¼š"ç ”ç©¶ä¸€ä¸‹é‡å­è®¡ç®—"
2. ç‚¹å‡» "å¼€å§‹ç ”ç©¶" æŒ‰é’®
3. è§‚å¯Ÿå®æ—¶è¿›åº¦æ›´æ–°

å¦‚æœèƒ½çœ‹åˆ°è¿›åº¦æ›´æ–°ï¼Œè¯´æ˜ï¼š
- âœ… å‰ç«¯æ­£å¸¸å·¥ä½œ
- âœ… åç«¯ API è¿æ¥æ­£å¸¸
- âœ… CORS é…ç½®æ­£ç¡®
- âœ… SSE å®æ—¶æ¨é€æ­£å¸¸

### 4. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œæ£€æŸ¥ï¼š
- âœ… æ—  JavaScript é”™è¯¯
- âœ… æ— ç½‘ç»œè¯·æ±‚å¤±è´¥
- âœ… æ—  CORS é”™è¯¯

### 5. æ£€æŸ¥ Vercel éƒ¨ç½²æ—¥å¿—

åœ¨ Vercel æ§åˆ¶å°ï¼š
1. è¿›å…¥é¡¹ç›®
2. ç‚¹å‡» "Deployments"
3. æŸ¥çœ‹æœ€æ–°éƒ¨ç½²çš„æ—¥å¿—
4. ç¡®è®¤æ— é”™è¯¯

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

Vercel ä¼šè‡ªåŠ¨ç›‘å¬ GitHub ä»“åº“çš„å˜åŒ–ï¼š

#### 1. æ¨é€ä»£ç åˆ° GitHub

```bash
# åœ¨æœ¬åœ°ç”µè„‘
cd /Users/ameureka/Desktop/agentic-ai-public-main

# ä¿®æ”¹ä»£ç ...
# ä¾‹å¦‚: nano ai-chatbot-main/components/chat.tsx

# æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin main
```

#### 2. è‡ªåŠ¨è§¦å‘éƒ¨ç½²

- Vercel ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°ä»£ç å˜åŒ–
- è‡ªåŠ¨å¼€å§‹æ„å»ºå’Œéƒ¨ç½²
- çº¦ 2-3 åˆ†é’Ÿåè‡ªåŠ¨ä¸Šçº¿

#### 3. æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

1. ç™»å½• Vercel æ§åˆ¶å°
2. è¿›å…¥é¡¹ç›®
3. æŸ¥çœ‹ "Deployments" é¡µé¢
4. å®æ—¶æŸ¥çœ‹æ„å»ºè¿›åº¦

#### 4. éƒ¨ç½²å®Œæˆ

- Vercel ä¼šå‘é€é‚®ä»¶é€šçŸ¥
- æ–°ç‰ˆæœ¬è‡ªåŠ¨ä¸Šçº¿
- æ—§ç‰ˆæœ¬è‡ªåŠ¨ä¿ç•™ï¼ˆå¯å›æ»šï¼‰

### æ‰‹åŠ¨éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹åŠ¨è§¦å‘éƒ¨ç½²ï¼š

#### æ–¹æ³• 1: Vercel æ§åˆ¶å°

1. ç™»å½• Vercel æ§åˆ¶å°
2. è¿›å…¥é¡¹ç›®
3. ç‚¹å‡» "Deployments"
4. ç‚¹å‡» "Redeploy"

#### æ–¹æ³• 2: Vercel CLI

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²
cd ai-chatbot-main
vercel --prod
```

---

## ğŸŒ è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼Œä¾‹å¦‚ `app.ameureka.com`ï¼š

### æ­¥éª¤ 1: æ·»åŠ åŸŸå

1. ç™»å½• Vercel æ§åˆ¶å°
2. è¿›å…¥é¡¹ç›®
3. ç‚¹å‡» "Settings" â†’ "Domains"
4. ç‚¹å‡» "Add"
5. è¾“å…¥åŸŸåï¼š`app.ameureka.com`
6. ç‚¹å‡» "Add"

### æ­¥éª¤ 2: é…ç½® DNS

Vercel ä¼šæä¾› DNS é…ç½®ä¿¡æ¯ï¼š

**æ–¹æ³• Aï¼šCNAME è®°å½•**ï¼ˆæ¨èï¼‰
```
Type: CNAME
Name: app
Value: cname.vercel-dns.com
```

**æ–¹æ³• Bï¼šA è®°å½•**
```
Type: A
Name: app
Value: 76.76.21.21
```

### æ­¥éª¤ 3: åœ¨ Cloudflare æ·»åŠ è®°å½•

1. ç™»å½• Cloudflare æ§åˆ¶å°
2. é€‰æ‹© `ameureka.com` åŸŸå
3. è¿›å…¥ "DNS" â†’ "Records"
4. ç‚¹å‡» "Add record"
5. æ·»åŠ  CNAME è®°å½•ï¼š
   - Type: CNAME
   - Name: app
   - Target: cname.vercel-dns.com
   - Proxy status: DNS onlyï¼ˆç°è‰²äº‘æœµï¼‰
6. ä¿å­˜

### æ­¥éª¤ 4: ç­‰å¾…ç”Ÿæ•ˆ

- DNS ç”Ÿæ•ˆæ—¶é—´ï¼š5-30 åˆ†é’Ÿ
- Vercel ä¼šè‡ªåŠ¨é…ç½® SSL è¯ä¹¦
- å®Œæˆåå¯ä»¥é€šè¿‡ `https://app.ameureka.com` è®¿é—®

### æ­¥éª¤ 5: æ›´æ–°åç«¯ CORS

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh root@43.163.110.53

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano /opt/agentic-ai/.env

# æ·»åŠ è‡ªå®šä¹‰åŸŸå
ALLOWED_ORIGINS=https://app.ameureka.com,https://ai-deepresearch-agent-xxx.vercel.app,https://*.vercel.app,http://localhost:3000

# é‡å¯æœåŠ¡
sudo systemctl restart agentic-backend
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ„å»ºå¤±è´¥

**ç—‡çŠ¶**ï¼š
- éƒ¨ç½²æ—¶æ˜¾ç¤º "Build Failed"
- æ„å»ºæ—¥å¿—æ˜¾ç¤ºé”™è¯¯

**æ£€æŸ¥æ­¥éª¤**ï¼š

1. **æŸ¥çœ‹æ„å»ºæ—¥å¿—**
   - åœ¨ Vercel æ§åˆ¶å°æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

2. **å¸¸è§é”™è¯¯**ï¼š

**é”™è¯¯ Aï¼šRoot Directory é”™è¯¯**
```
Error: Cannot find module 'next'
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ Root Directory æ˜¯å¦è®¾ç½®ä¸º `ai-chatbot-main`

**é”™è¯¯ Bï¼šç¯å¢ƒå˜é‡ç¼ºå¤±**
```
Error: DATABASE_URL is not defined
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®
- ç¡®ä¿ç¯å¢ƒå˜é‡åº”ç”¨åˆ° Production

**é”™è¯¯ Cï¼šä¾èµ–å®‰è£…å¤±è´¥**
```
Error: Cannot find package 'xxx'
```
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ `package.json` æ˜¯å¦æ­£ç¡®
- å°è¯•æ¸…é™¤ç¼“å­˜é‡æ–°éƒ¨ç½²

3. **é‡æ–°éƒ¨ç½²**
   - ç‚¹å‡» "Redeploy"
   - å‹¾é€‰ "Clear cache and redeploy"

---

### é—®é¢˜ 2: å‰ç«¯æ— æ³•è®¿é—®åç«¯

**ç—‡çŠ¶**ï¼š
- å‰ç«¯é¡µé¢æ­£å¸¸æ˜¾ç¤º
- ç‚¹å‡»"å¼€å§‹ç ”ç©¶"åæ— å“åº”
- æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤º CORS é”™è¯¯æˆ–ç½‘ç»œé”™è¯¯

**æ£€æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥åç«¯ API åœ°å€**
   ```bash
   # åœ¨ Vercel æ§åˆ¶å°æ£€æŸ¥ç¯å¢ƒå˜é‡
   NEXT_PUBLIC_API_URL=https://api.ameureka.com
   ```

2. **æµ‹è¯•åç«¯è®¿é—®**
   ```bash
   # åœ¨æœ¬åœ°ç”µè„‘æµ‹è¯•
   curl https://api.ameureka.com/health
   ```

3. **æ£€æŸ¥ CORS é…ç½®**
   ```bash
   # SSH ç™»å½•æœåŠ¡å™¨
   ssh root@43.163.110.53
   
   # æ£€æŸ¥ CORS é…ç½®
   grep ALLOWED_ORIGINS /opt/agentic-ai/.env
   ```

4. **æµ‹è¯• CORS**
   ```bash
   curl -X OPTIONS https://api.ameureka.com/api/research/stream \
     -H "Origin: https://your-app.vercel.app" \
     -H "Access-Control-Request-Method: POST" \
     -v
   ```

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. æ›´æ–°åç«¯ CORS é…ç½®
2. é‡å¯åç«¯æœåŠ¡
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
4. é‡æ–°éƒ¨ç½² Vercel

---

### é—®é¢˜ 3: æ•°æ®åº“è¿æ¥å¤±è´¥

**ç—‡çŠ¶**ï¼š
- æ— æ³•æ³¨å†Œ/ç™»å½•
- é¡µé¢æ˜¾ç¤ºæ•°æ®åº“é”™è¯¯

**æ£€æŸ¥æ­¥éª¤**ï¼š

1. **æ£€æŸ¥æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²**
   - åœ¨ Vercel æ§åˆ¶å°æ£€æŸ¥ `POSTGRES_URL`
   - ç¡®ä¿åŒ…å« `?sslmode=require`

2. **æµ‹è¯•æ•°æ®åº“è¿æ¥**
   ```bash
   # åœ¨æœ¬åœ°ç”µè„‘æµ‹è¯•
   psql "postgresql://user:password@ep-xxx.neon.tech/dbname?sslmode=require"
   ```

3. **æ£€æŸ¥ Neon æ•°æ®åº“çŠ¶æ€**
   - ç™»å½• Neon æ§åˆ¶å°
   - æ£€æŸ¥æ•°æ®åº“æ˜¯å¦æš‚åœï¼ˆå…è´¹ç‰ˆä¼šè‡ªåŠ¨æš‚åœï¼‰
   - æ£€æŸ¥ IP ç™½åå•ï¼ˆå¦‚æœé…ç½®äº†ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. å”¤é†’ Neon æ•°æ®åº“
2. æ›´æ–°è¿æ¥å­—ç¬¦ä¸²
3. é‡æ–°éƒ¨ç½² Vercel

---

### é—®é¢˜ 4: ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ

**ç—‡çŠ¶**ï¼š
- ä¿®æ”¹äº†ç¯å¢ƒå˜é‡
- ä½†åº”ç”¨ä»ä½¿ç”¨æ—§å€¼

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **é‡æ–°éƒ¨ç½²**
   - ä¿®æ”¹ç¯å¢ƒå˜é‡åå¿…é¡»é‡æ–°éƒ¨ç½²
   - åœ¨ Vercel æ§åˆ¶å°ç‚¹å‡» "Redeploy"

2. **æ£€æŸ¥ç¯å¢ƒå˜é‡ä½œç”¨åŸŸ**
   - ç¡®ä¿ç¯å¢ƒå˜é‡åº”ç”¨åˆ°æ­£ç¡®çš„ç¯å¢ƒï¼ˆProduction/Preview/Developmentï¼‰

---

### é—®é¢˜ 5: é¢„è§ˆéƒ¨ç½²å¤±è´¥

**ç—‡çŠ¶**ï¼š
- Pull Request çš„é¢„è§ˆéƒ¨ç½²å¤±è´¥
- ä½†ä¸»åˆ†æ”¯éƒ¨ç½²æ­£å¸¸

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **æ£€æŸ¥ PR çš„æ„å»ºæ—¥å¿—**
2. **ç¡®ä¿ PR ä»£ç æ²¡æœ‰è¯­æ³•é”™è¯¯**
3. **æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦åº”ç”¨åˆ° Preview ç¯å¢ƒ**

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. å¯ç”¨ Edge Functions

Vercel çš„ Edge Functions å¯ä»¥æä¾›æ›´å¿«çš„å“åº”é€Ÿåº¦ï¼š

```typescript
// app/api/route.ts
export const runtime = 'edge';
```

### 2. é…ç½®ç¼“å­˜

```typescript
// next.config.ts
const nextConfig = {
  headers: async () => [
    {
      source: '/api/:path*',
      headers: [
        {
          key: 'Cache-Control',
          value: 'public, max-age=60, stale-while-revalidate=30',
        },
      ],
    },
  ],
};
```

### 3. å›¾ç‰‡ä¼˜åŒ–

ä½¿ç”¨ Next.js Image ç»„ä»¶ï¼š

```tsx
import Image from 'next/image';

<Image
  src="/logo.png"
  alt="Logo"
  width={200}
  height={50}
  priority
/>
```

---

## ğŸ“š å¸¸ç”¨å‘½ä»¤

### Vercel CLI

```bash
# å®‰è£… CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
vercel --prod

# æŸ¥çœ‹éƒ¨ç½²åˆ—è¡¨
vercel ls

# æŸ¥çœ‹ç¯å¢ƒå˜é‡
vercel env ls

# æ·»åŠ ç¯å¢ƒå˜é‡
vercel env add

# æŸ¥çœ‹æ—¥å¿—
vercel logs
```

---

## ğŸ“ è¿›é˜¶é…ç½®

### 1. é…ç½®é¢„è§ˆéƒ¨ç½²

åœ¨ `vercel.json` ä¸­é…ç½®ï¼š

```json
{
  "github": {
    "enabled": true,
    "autoAlias": true,
    "silent": false
  }
}
```

### 2. é…ç½®é‡å®šå‘

```json
{
  "redirects": [
    {
      "source": "/old-path",
      "destination": "/new-path",
      "permanent": true
    }
  ]
}
```

### 3. é…ç½® Headers

```json
{
  "headers": [
    {
      "source": "/api/(.*)",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "public, max-age=0, must-revalidate"
        }
      ]
    }
  ]
}
```

---

## ğŸ“– å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£

- [Vercel å®˜æ–¹æ–‡æ¡£](https://vercel.com/docs)
- [Next.js éƒ¨ç½²æ–‡æ¡£](https://nextjs.org/docs/deployment)
- [Vercel CLI æ–‡æ¡£](https://vercel.com/docs/cli)

### ç›¸å…³æ–‡æ¡£

- [è…¾è®¯äº‘éƒ¨ç½²æŒ‡å—](./TENCENT_CLOUD_DEPLOYMENT.md)
- [Cloudflare Tunnel é…ç½®](./CLOUDFLARE_TUNNEL_SETUP.md)
- [ç¯å¢ƒå˜é‡é…ç½®](./ENVIRONMENT_VARIABLES.md)

---

## ğŸ’¬ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ Vercel éƒ¨ç½²æ—¥å¿—
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"æ•…éšœæ’æŸ¥"éƒ¨åˆ†
4. è®¿é—® Vercel ç¤¾åŒºï¼šhttps://vercel.com/community
5. åœ¨ GitHub æäº¤ Issue

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-11-03  
**é€‚ç”¨ç‰ˆæœ¬**: Next.js 15.3+, Vercel Platform

---

**Made with â¤ï¸ by the AI DeepResearch Team**
