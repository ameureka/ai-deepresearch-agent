é‡æ–°è¯„ä¼° Next.js åŠŸèƒ½
1ï¸âƒ£ èŠå¤©ç•Œé¢ï¼ˆåŒ…å«æ€è€ƒè¾“å‡ºï¼‰
ä½ çœ‹åˆ°çš„ç•Œé¢ç‰¹ç‚¹:

å·¦ä¾§ï¼šå¯¹è¯å†å²
å³ä¾§ï¼šAI å›å¤ï¼ˆå¸¦æ€è€ƒè¿‡ç¨‹ï¼‰
åº•éƒ¨ï¼šè¾“å…¥æ¡†
ä¸ºä»€ä¹ˆæˆ‘å»ºè®®åˆ é™¤:

æˆ‘ä»¥ä¸ºä½ åªæƒ³è¦"ä¸€æ¬¡æ€§ç ”ç©¶æŠ¥å‘Šç”Ÿæˆ"
ä½†å…¶å®èŠå¤©ç•Œé¢éå¸¸é€‚åˆç ”ç©¶åœºæ™¯ï¼
é‡æ–°å»ºè®®ï¼šä¿ç•™å¹¶æ”¹é€  âœ…

æ”¹é€ æ–¹æ¡ˆ:

// ä¿ç•™èŠå¤©ç•Œé¢ï¼Œä½†æ”¹ä¸º"ç ”ç©¶å¯¹è¯"æ¨¡å¼

ç”¨æˆ·: "å¸®æˆ‘ç ”ç©¶é‡å­è®¡ç®—çš„æœ€æ–°è¿›å±•"
    â†“
AI: "å¥½çš„ï¼Œæˆ‘å°†å¯åŠ¨å¤šä»£ç†ç ”ç©¶å·¥ä½œæµ..."
    [æ˜¾ç¤ºå®æ—¶è¿›åº¦]
    âœ… æ­¥éª¤1: Tavily æœç´¢å®Œæˆ
    â³ æ­¥éª¤2: arXiv æœç´¢ä¸­...
    â†“
AI: "ç ”ç©¶å®Œæˆï¼è¿™æ˜¯æˆ‘çš„å‘ç°ï¼š[å®Œæ•´æŠ¥å‘Š]"
    â†“
ç”¨æˆ·: "èƒ½åŠ ä¸Šæˆæœ¬åˆ†æå—ï¼Ÿ"
    â†“
AI: "å½“ç„¶ï¼Œè®©æˆ‘è¡¥å……æˆæœ¬åˆ†æ..."
ä¿ç•™çš„ä»·å€¼:

âœ… å¯¹è¯å¼äº¤äº’æ›´è‡ªç„¶
âœ… å¯ä»¥è¿½é—®å’Œè¡¥å……
âœ… æ€è€ƒè¿‡ç¨‹å¯è§†åŒ–ï¼ˆGrok Reasoningï¼‰
âœ… å†å²è®°å½•ç®¡ç†
2ï¸âƒ£ Artifacts ç¼–è¾‘å™¨
ä»€ä¹ˆæ˜¯ Artifacts: è¿™æ˜¯ AI Chatbot çš„æ ¸å¿ƒåˆ›æ–°åŠŸèƒ½ï¼

å·¥ä½œåŸç†:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·¦ä¾§ï¼šå¯¹è¯åŒº                             â”‚
â”‚  ç”¨æˆ·: "å¸®æˆ‘å†™ä¸€ä¸ªæ’åºç®—æ³•"               â”‚
â”‚  AI: "å¥½çš„ï¼Œæˆ‘æ¥åˆ›å»ºä¸€ä¸ªä»£ç æ–‡æ¡£..."      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å³ä¾§ï¼šArtifact å®æ—¶ç¼–è¾‘å™¨                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ # æ’åºç®—æ³•                         â”‚  â”‚
â”‚  â”‚ def bubble_sort(arr):             â”‚  â”‚
â”‚  â”‚     for i in range(len(arr)):     â”‚  â”‚
â”‚  â”‚         ...                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [å¤åˆ¶] [ä¸‹è½½] [ç¼–è¾‘]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ”¯æŒçš„ç±»å‹:

text - Markdown æ–‡æ¡£
code - ä»£ç ç¼–è¾‘å™¨ï¼ˆPythonã€JS ç­‰ï¼‰
sheet - ç”µå­è¡¨æ ¼ï¼ˆCSVï¼‰
image - å›¾ç‰‡ç¼–è¾‘å™¨
ä¸ºä»€ä¹ˆæˆ‘å»ºè®®åˆ é™¤:

æˆ‘ä»¥ä¸ºä½ åªéœ€è¦"é™æ€æŠ¥å‘Šå±•ç¤º"
ä½† Artifacts éå¸¸é€‚åˆå±•ç¤ºç ”ç©¶æŠ¥å‘Šï¼
é‡æ–°å»ºè®®ï¼šä¿ç•™å¹¶åˆ©ç”¨ âœ…

ç”¨äºç ”ç©¶åœºæ™¯:

// å°†ç ”ç©¶æŠ¥å‘Šä½œä¸º Artifact å±•ç¤º

ç”¨æˆ·: "ç ”ç©¶ GPT-4 çš„æŠ€æœ¯ç»†èŠ‚"
    â†“
AI è°ƒç”¨ FastAPI ç ”ç©¶æœåŠ¡
    â†“
ç ”ç©¶å®Œæˆåï¼Œåˆ›å»º Artifact:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Artifact: GPT-4 æŠ€æœ¯åˆ†ææŠ¥å‘Š        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ # GPT-4 æŠ€æœ¯åˆ†æ               â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚ ## 1. æ¶æ„è®¾è®¡                 â”‚  â”‚
â”‚  â”‚ GPT-4 é‡‡ç”¨ Transformer...     â”‚  â”‚
â”‚  â”‚                               â”‚  â”‚
â”‚  â”‚ ## 2. è®­ç»ƒæ–¹æ³•                 â”‚  â”‚
â”‚  â”‚ ...                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [å¯¼å‡º PDF] [å¤åˆ¶] [ç»§ç»­ç ”ç©¶]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ä¿ç•™çš„ä»·å€¼:

âœ… æŠ¥å‘Šå®æ—¶ç”Ÿæˆå’Œå±•ç¤º
âœ… å¯ä»¥ç¼–è¾‘å’Œå¯¼å‡º
âœ… æ”¯æŒ Markdown æ¸²æŸ“
âœ… ç”¨æˆ·ä½“éªŒæä½³
3ï¸âƒ£ å¤šæ¨¡æ€è¾“å…¥
ä»€ä¹ˆæ˜¯å¤šæ¨¡æ€è¾“å…¥:

è¾“å…¥æ¡†æ”¯æŒï¼š
- ğŸ“ æ–‡æœ¬è¾“å…¥
- ğŸ“ æ–‡ä»¶ä¸Šä¼ ï¼ˆPDFã€å›¾ç‰‡ã€CSVï¼‰
- ğŸ–¼ï¸ å›¾ç‰‡æ‹–æ‹½
- ğŸ“Š æ•°æ®æ–‡ä»¶
ç¤ºä¾‹:

ç”¨æˆ·ä¸Šä¼ ä¸€ç¯‡ PDF è®ºæ–‡
    â†“
AI: "æˆ‘çœ‹åˆ°ä½ ä¸Šä¼ äº†ä¸€ç¯‡å…³äº Transformer çš„è®ºæ–‡"
    â†“
ç”¨æˆ·: "å¸®æˆ‘æ€»ç»“è¿™ç¯‡è®ºæ–‡çš„æ ¸å¿ƒè§‚ç‚¹"
    â†“
AI: åˆ†æ PDF å†…å®¹å¹¶ç”Ÿæˆæ€»ç»“
ä¸ºä»€ä¹ˆæˆ‘å»ºè®®åˆ é™¤:

ä½ çš„ FastAPI ç³»ç»Ÿç›®å‰ä¸æ”¯æŒæ–‡ä»¶å¤„ç†
å¢åŠ å¤æ‚åº¦
é‡æ–°å»ºè®®ï¼šæš‚æ—¶ä¿ç•™ï¼Œæœªæ¥æ‰©å±• âš ï¸

å½“å‰é˜¶æ®µ:

å…ˆç¦ç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
åªä¿ç•™æ–‡æœ¬è¾“å…¥
æœªæ¥æ‰©å±•:

æ”¯æŒä¸Šä¼ è®ºæ–‡ PDF
æ”¯æŒä¸Šä¼ æ•°æ®æ–‡ä»¶
AI åˆ†ææ–‡ä»¶å†…å®¹
4ï¸âƒ£ åŸæœ‰å·¥å…·ï¼ˆlib/ai/tools/ï¼‰
åŸæœ‰å·¥å…·åˆ—è¡¨:

lib/ai/tools/
â”œâ”€â”€ get-weather.ts        // å¤©æ°”æŸ¥è¯¢
â”œâ”€â”€ create-document.ts    // åˆ›å»º Artifact æ–‡æ¡£
â”œâ”€â”€ update-document.ts    // æ›´æ–° Artifact æ–‡æ¡£
â””â”€â”€ request-suggestions.ts // è¯·æ±‚ç¼–è¾‘å»ºè®®
è¿™äº›å·¥å…·çš„ä½œç”¨:

AI åœ¨å¯¹è¯ä¸­å¯ä»¥"è°ƒç”¨å·¥å…·"
ä¾‹å¦‚ï¼šç”¨æˆ·é—®å¤©æ°” â†’ AI è°ƒç”¨ get-weather â†’ è¿”å›å¤©æ°”ä¿¡æ¯
ä¸ºä»€ä¹ˆæˆ‘å»ºè®®åˆ é™¤:

ä½ çš„ç ”ç©¶åŠŸèƒ½åœ¨ FastAPI ä¸­å®ç°
è¿™äº›å·¥å…·æ˜¯ä¸ºèŠå¤©åœºæ™¯è®¾è®¡çš„
é‡æ–°å»ºè®®ï¼šéƒ¨åˆ†ä¿ç•™ï¼Œéƒ¨åˆ†æ”¹é€  âœ…

ä¿ç•™:

create-document.ts - ç”¨äºåˆ›å»ºç ”ç©¶æŠ¥å‘Š Artifact
update-document.ts - ç”¨äºæ›´æ–°æŠ¥å‘Š
åˆ é™¤:

get-weather.ts - ç ”ç©¶åœºæ™¯ä¸éœ€è¦
request-suggestions.ts - æš‚æ—¶ä¸éœ€è¦
æ–°å¢:

// lib/ai/tools/start-research.ts
// æ–°å·¥å…·ï¼šå¯åŠ¨ç ”ç©¶ä»»åŠ¡

export const startResearch = tool({
  description: "Start a comprehensive research task",
  inputSchema: z.object({
    topic: z.string(),
  }),
  execute: async ({ topic }) => {
    // è°ƒç”¨ FastAPI ç ”ç©¶æœåŠ¡
    const res = await fetch('http://localhost:8000/api/v1/research', {
      method: 'POST',
      body: JSON.stringify({ prompt: topic }),
    });
    
    const data = await res.json();
    
    return {
      taskId: data.task_id,
      message: `Research started. Task ID: ${data.task_id}`,
    };
  },
});
ğŸ¯ ä¿®æ­£åçš„æ–¹æ¡ˆ
æ–°çš„ç®€åŒ–ç­–ç•¥
ä¿ç•™çš„æ ¸å¿ƒåŠŸèƒ½:

âœ… èŠå¤©ç•Œé¢ - æ”¹ä¸º"ç ”ç©¶å¯¹è¯"æ¨¡å¼
âœ… Artifacts ç³»ç»Ÿ - ç”¨äºå±•ç¤ºç ”ç©¶æŠ¥å‘Š
âœ… è®¤è¯ç³»ç»Ÿ - ç”¨æˆ·ç™»å½•
âœ… æ•°æ®åº“ - å­˜å‚¨å†å²
âœ… UI ç»„ä»¶åº“ - shadcn/ui
åˆ é™¤çš„åŠŸèƒ½:

âŒ å¤©æ°”å·¥å…·
âŒ å›¾ç‰‡ç¼–è¾‘å™¨ï¼ˆæš‚æ—¶ï¼‰
âŒ è¡¨æ ¼ç¼–è¾‘å™¨ï¼ˆæš‚æ—¶ï¼‰
âŒ å¤šæ¨¡æ€è¾“å…¥ï¼ˆæš‚æ—¶ç¦ç”¨ï¼‰
æ”¹é€ çš„åŠŸèƒ½:

ğŸ”„ èŠå¤© â†’ ç ”ç©¶å¯¹è¯
ğŸ”„ Artifacts â†’ ç ”ç©¶æŠ¥å‘Šå±•ç¤º
ğŸ”„ å·¥å…·ç³»ç»Ÿ â†’ ç ”ç©¶å·¥å…·
ğŸ“‹ ä¿®æ­£åçš„å®æ–½æ–¹æ¡ˆ
é˜¶æ®µ 3.1: ä¿ç•™æ ¸å¿ƒï¼Œæ”¹é€ äº¤äº’ï¼ˆ3-5 å¤©ï¼‰
cd achive/ai-chatbot-main

# åªåˆ é™¤è¿™äº›
rm -rf components/weather.tsx  # åˆ é™¤å¤©æ°”ç»„ä»¶
rm -rf components/sheet-editor.tsx  # åˆ é™¤è¡¨æ ¼ç¼–è¾‘å™¨
rm -rf components/image-editor.tsx  # åˆ é™¤å›¾ç‰‡ç¼–è¾‘å™¨
rm -rf lib/ai/tools/get-weather.ts  # åˆ é™¤å¤©æ°”å·¥å…·
rm -rf lib/ai/tools/request-suggestions.ts  # åˆ é™¤å»ºè®®å·¥å…·

# ä¿ç•™è¿™äº›ï¼ˆé‡è¦ï¼ï¼‰
# âœ… app/(chat)  - èŠå¤©ç•Œé¢ï¼ˆæ”¹é€ ä¸ºç ”ç©¶å¯¹è¯ï¼‰
# âœ… components/artifact.tsx  - Artifact ç³»ç»Ÿ
# âœ… components/text-editor.tsx  - æ–‡æœ¬ç¼–è¾‘å™¨
# âœ… components/code-editor.tsx  - ä»£ç ç¼–è¾‘å™¨
# âœ… lib/ai/tools/create-document.ts  - åˆ›å»ºæ–‡æ¡£
# âœ… lib/ai/tools/update-document.ts  - æ›´æ–°æ–‡æ¡£
é˜¶æ®µ 3.2: æ·»åŠ ç ”ç©¶å·¥å…·ï¼ˆ2-3 å¤©ï¼‰
// lib/ai/tools/start-research.ts

import { tool } from 'ai';
import { z } from 'zod';

export const startResearch = tool({
  description: 'Start a comprehensive multi-agent research task',
  inputSchema: z.object({
    topic: z.string().describe('Research topic or question'),
  }),
  execute: async ({ topic }) => {
    const RESEARCH_API = process.env.RESEARCH_API_URL;
    
    const response = await fetch(`${RESEARCH_API}/api/v1/research`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: topic }),
    });
    
    const data = await response.json();
    
    // è¿”å›ç»™ AIï¼Œè®©å®ƒåˆ›å»º Artifact å±•ç¤ºæŠ¥å‘Š
    return {
      taskId: data.task_id,
      status: 'started',
      message: 'Research task started successfully',
    };
  },
});
é˜¶æ®µ 3.3: æ”¹é€ èŠå¤©æµç¨‹ï¼ˆ3-4 å¤©ï¼‰
// app/(chat)/api/chat/route.ts

export async function POST(request: Request) {
  const { messages } = await request.json();
  
  const result = streamText({
    model: myProvider('chat-model'),
    messages,
    tools: {
      // ä¿ç•™çš„å·¥å…·
      createDocument: createDocument({ session, dataStream }),
      updateDocument: updateDocument({ session, dataStream }),
      
      // æ–°å¢çš„ç ”ç©¶å·¥å…·
      startResearch: startResearch,
      getResearchProgress: getResearchProgress,
    },
    system: `ä½ æ˜¯ä¸€ä¸ªAIç ”ç©¶åŠ©æ‰‹ã€‚å½“ç”¨æˆ·è¦æ±‚ç ”ç©¶æŸä¸ªä¸»é¢˜æ—¶ï¼Œ
    ä½¿ç”¨ startResearch å·¥å…·å¯åŠ¨ç ”ç©¶ä»»åŠ¡ï¼Œç„¶åä½¿ç”¨ createDocument 
    åˆ›å»º Artifact å±•ç¤ºç ”ç©¶æŠ¥å‘Šã€‚`,
  });
  
  return result.toDataStreamResponse();
}
ğŸ’¡ æœ€ç»ˆæ•ˆæœ
ç”¨æˆ·ä½“éªŒæµç¨‹
1. ç”¨æˆ·ç™»å½•ç³»ç»Ÿ
    â†“
2. åœ¨èŠå¤©æ¡†è¾“å…¥ï¼š"å¸®æˆ‘ç ”ç©¶é‡å­è®¡ç®—çš„æœ€æ–°è¿›å±•"
    â†“
3. AI å›å¤ï¼š"å¥½çš„ï¼Œæˆ‘å°†å¯åŠ¨å¤šä»£ç†ç ”ç©¶å·¥ä½œæµ..."
   [AI è°ƒç”¨ startResearch å·¥å…·]
    â†“
4. å³ä¾§æ˜¾ç¤ºå®æ—¶è¿›åº¦ï¼š
   âœ… Tavily æœç´¢å®Œæˆ
   â³ arXiv æœç´¢ä¸­...
   â¸ï¸ ç»¼åˆåˆ†æç­‰å¾…ä¸­
    â†“
5. ç ”ç©¶å®Œæˆåï¼ŒAI è¯´ï¼š"ç ”ç©¶å®Œæˆï¼è®©æˆ‘ä¸ºä½ åˆ›å»ºæŠ¥å‘Š..."
   [AI è°ƒç”¨ createDocument å·¥å…·]
    â†“
6. å³ä¾§ Artifact åŒºåŸŸæ˜¾ç¤ºå®Œæ•´æŠ¥å‘Šï¼ˆMarkdown æ ¼å¼ï¼‰
   ç”¨æˆ·å¯ä»¥ï¼š
   - é˜…è¯»æŠ¥å‘Š
   - å¤åˆ¶å†…å®¹
   - å¯¼å‡º PDF
   - ç»§ç»­æé—®
    â†“
7. ç”¨æˆ·è¿½é—®ï¼š"èƒ½åŠ ä¸Šæˆæœ¬åˆ†æå—ï¼Ÿ"
    â†“
8. AI è°ƒç”¨ updateDocument æ›´æ–°æŠ¥å‘Š
âœ… æ€»ç»“
ä½ çš„ç›´è§‰æ˜¯å¯¹çš„ï¼

èŠå¤©ç•Œé¢ - éå¸¸é€‚åˆç ”ç©¶åœºæ™¯ï¼Œä¿ç•™ï¼
Artifacts - å®Œç¾çš„æŠ¥å‘Šå±•ç¤ºæ–¹å¼ï¼Œä¿ç•™ï¼
å¤šæ¨¡æ€ - æœªæ¥æœ‰ä»·å€¼ï¼Œæš‚æ—¶ç¦ç”¨
åŸæœ‰å·¥å…· - éƒ¨åˆ†ä¿ç•™ï¼Œéƒ¨åˆ†æ”¹é€ 
æ–°çš„åˆ é™¤ç­–ç•¥:

åªåˆ é™¤æ˜ç¡®ä¸éœ€è¦çš„ï¼ˆå¤©æ°”ã€å›¾ç‰‡ç¼–è¾‘ç­‰ï¼‰
ä¿ç•™æ‰€æœ‰æ ¸å¿ƒäº¤äº’åŠŸèƒ½
æ”¹é€ è€Œä¸æ˜¯åˆ é™¤
è¿™æ ·æ—¢ä¿ç•™äº†ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒï¼Œåˆä¸“æ³¨äºç ”ç©¶åŠŸèƒ½ï¼