# ========================================
# API Keys (必需)
# ========================================

# OpenAI API Key (用于降级机制)
OPENAI_API_KEY=sk-your-openai-api-key-here

# DeepSeek API Key (主要模型)
# 获取地址: https://platform.deepseek.com/
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here

# Tavily API Key (用于网络搜索)
# 获取地址: https://tavily.com/
TAVILY_API_KEY=tvly-your-tavily-api-key-here

# 数据库配置 (可选 - 使用默认值即可)
# POSTGRES_USER=app
# POSTGRES_PASSWORD=local
# POSTGRES_DB=appdb
# DATABASE_URL=postgresql://app:local@127.0.0.1:5432/appdb

# ========================================
# 模型配置 (可选 - 已有默认值)
# ========================================

# Planner Agent 模型 (默认: deepseek:deepseek-reasoner)
# PLANNER_MODEL=deepseek:deepseek-reasoner

# Researcher Agent 模型 (默认: deepseek:deepseek-chat)
# RESEARCHER_MODEL=deepseek:deepseek-chat

# Writer Agent 模型 (默认: deepseek:deepseek-chat)
# WRITER_MODEL=deepseek:deepseek-chat

# Editor Agent 模型 (默认: deepseek:deepseek-chat)
# EDITOR_MODEL=deepseek:deepseek-chat

# 降级模型 (默认: openai:gpt-4o-mini)
# FALLBACK_MODEL=openai:gpt-4o-mini

# 请求超时时间（秒，默认: 90）
# REQUEST_TIMEOUT=90

# ========================================
# Phase 1.5: 上下文长度优化配置
# ========================================

# 启用分块处理 (默认: true)
# 当文本超过模型上下文窗口阈值时，自动分块处理
ENABLE_CHUNKING=true

# 分块阈值 (默认: 0.8)
# 当文本超过上下文窗口的此百分比时触发分块
# 例如: 0.8 表示使用 80% 的上下文窗口
CHUNKING_THRESHOLD=0.8

# 最大块大小 (默认: 6000 tokens)
# 每个文本块的最大 token 数量
MAX_CHUNK_SIZE=6000

# 块重叠大小 (默认: 200 tokens)
# 相邻块之间重叠的 token 数量，用于保持上下文连贯性
CHUNK_OVERLAP=200

# ========================================
# 其他配置
# ========================================

# 可选：如果使用 DeepLearning.AI 的 Tavily 服务
# DLAI_TAVILY_BASE_URL=https://api.tavily.com
